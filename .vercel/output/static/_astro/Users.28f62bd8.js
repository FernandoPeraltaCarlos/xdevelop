import{j as r}from"./jsx-runtime.9d0a03e7.js";import{r as o}from"./index.d1b879fc.js";const C="_users_43bv6_1",g="_card_43bv6_26",_="_orderList_43bv6_49",m={users:C,card:g,orderList:_};async function w(){return await(await fetch("https://fakestoreapi.com/users")).json()}async function S(){let t={email:"John@gmail.com",username:"johnd",password:"m38rmF$",name:{firstname:"John",lastname:"Doe"},address:{city:"kilcoole",street:"7835 new road",number:3,zipcode:"12926-3874",geolocation:{lat:"-37.3159",long:"81.1496"}},phone:"1-570-236-7033"};const a=await(await fetch("https://fakestoreapi.com/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json();return t.id=a.id,t}function U({id:t,names:n,mail:a,index:u,deleteUser:l,data:c}){function d(){l(u)}return delete c.username,delete c.password,r.jsxs("li",{className:m.card,children:[r.jsx("p",{children:t}),r.jsxs("div",{children:[r.jsxs("p",{children:[n.firstname," ",n.lastname]}),r.jsx("p",{children:a})]}),r.jsx("a",{href:`/users/${t}?data=${JSON.stringify(c)}`,children:"Ver mas"}),r.jsx("p",{onClick:d,children:"X"})]})}function O(){const[t,n]=o.useState([]),[a,u]=o.useState([]),[l,c]=o.useState(!0),[d,f]=o.useState(!0);o.useEffect(()=>{async function e(){const s=await w();n([...s]),u([...s])}e()},[]),o.useEffect(()=>{},[t]);function p(){let e=structuredClone(t);l?e.sort((s,i)=>i.id-s.id):e.sort((s,i)=>s.id-i.id),c(!l),n([...e])}function h(){let e=structuredClone(t);d?e.sort((s,i)=>{if(s.email<i.email)return-1;if(s.email>i.email)return 1}):e.sort((s,i)=>{if(s.email<i.email)return 1;if(s.email>i.email)return-1}),f(!d),n([...e])}function j(e){let s=structuredClone(t);s.splice(e,1),n([...s])}function x(){n(a)}async function y(){let e=[...t];const s=await S();n([...e,s])}return r.jsxs("section",{className:m.users,children:[r.jsxs("div",{className:m.orderList,children:[r.jsx("p",{onClick:p,children:"Ordenar por Id"}),r.jsx("p",{onClick:h,children:"Ordenar por Correo"}),r.jsx("p",{onClick:x,children:"Reiniciar"}),r.jsx("p",{onClick:y,children:"Agregar usuario"})]}),r.jsx("ul",{children:t.length===0?r.jsx("li",{children:"Cargando...."}):t.map((e,s)=>r.jsx(U,{data:e,deleteUser:j,index:s,id:e.id,names:e.name,mail:e.email},e.id))})]})}export{O as default};
